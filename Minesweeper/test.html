<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <button class="toggle">toggle</button>
    <div class="box" style="width: 100px; height: 100px; background: red;"></div>
    <button id="inclease"></button>
    <p id="count">0</p>
    <button id="exec">시작</button>
    <button id="stop">중지</button>

    <p id="second">0</p>
    
    <script>
        var box = document.querySelector(".box");
        var toggleBtn = document.querySelector(".toggle");

        var incleaseBtn = document.getElementById("inclease");
        var count = document.getElementById("count");

        let execBtn = document.getElementById("exec");
        let second = document.getElementById("second");
        let stopBtn = document.getElementById("stop");

        let k;
        // function stopFunc(){
        //     stopBtn.onclick = clearInterval(k);
        // }
        let a = function(){
            let ccc = 0;
            
            k = setInterval(function(){
                ccc++;
                second.innerHTML = ccc;
                // stopBtn.onclick = clearInterval(k);
               
            }, 1000);
        };
        execBtn.onclick = a;
        stopBtn.onclick = function(){
            clearInterval(k);
        }
        // stopBtn.onclick = clearInterval(k);
        // clearInterval(timerId);

        var toggle = (function(){
            var isShow = false;
            
            //1.클로저를 반환
            return function(){
                box.style.display = isShow ? 'block' : 'none';
                //3.상태변경
                isShow = !isShow;
            };
        }());

        //2.이벤트 프로퍼티에 클로저를 할당
        toggleBtn.onclick = toggle;

        var inclease = (function(){
            var counter = 0;//카운트 상태를 유지하기 위한 자유변수
            return function(){//클로저 반환
                return ++counter;
            }
        }());
        incleaseBtn.onclick = function(){
            count.innerHTML = inclease();
        };
    </script>
</body>
</html>